<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><!-- Copyright 2006 Curam Software Ltd. --><html lang="en"><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Conditional Content</title><link href="help-style.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.64.1" name="generator"><link rel="home" href="book-index.html" title="C&uacute;ram DocMaker Internals"><link rel="up" href="DMN12594.html" title="Output Formats"><link rel="previous" href="DMN125CA.html" title="HTML Help Format"><link rel="next" href="DMN12A42.html" title="Editing DocBook XML Documents"><script src="help-util.js" type="text/javascript"></script></head><body onload="pageOpened();" bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation"><tr><td class="navbarright"><span class="navprev"><a accesskey="p" href="DMN125CA.html"><img class="navigation" src="../images/prev.gif" alt="Previous Page" title="Previous Page"></a></span> <span class="navnext"><a accesskey="n" href="DMN12A42.html"><img class="navigation" src="../images/next.gif" alt="Next Page" title="Next Page"></a></span></td></tr></table></div><div id="spacer"></div><div class="content"><div class="section" lang="en"><div class="section_titlepage"><div><div><h2 class="title"><a name="DMN1296E"></a>Conditional Content</h2></div></div><div></div></div><div class="section" lang="en"><div class="section_titlepage"><div><div><h3 class="title"><a name="DMN12975"></a>Overview</h3></div></div><div></div></div><p>When using a single source document in DocBook XML format to
      generate both PDF and HTML Help output, there is often a need to make
      small changes to the content appropriate to the way the output will be
      used. For example, a PDF document may refer to &ldquo;<span class="quote">page 26</span>&rdquo; or
      contain phrases such as, &ldquo;<span class="quote">In this book</span>&rdquo; or, &ldquo;<span class="quote">In this
      chapter</span>&rdquo;; while the HTML Help has no page numbering and might use
      the phrase, &ldquo;<span class="quote">In this online help</span>&rdquo;. DocMaker automatically
      modifies the text generated for cross-references dependent on certain
      factors; for example, if the output format is paginated, or if section
      numbering is used. Alternative phrasing used in the content cannot be
      substituted automatically, but DocMaker supports <span class="emphasis"><em>conditional
      content</em></span>: content that is explicitly marked by the author for
      use under specific conditions.</p></div><div class="section" lang="en"><div class="section_titlepage"><div><div><h3 class="title"><a name="DMN1298D"></a>Conditions</h3></div></div><div></div></div><p>DocMaker supports two conditions: <span class="emphasis"><em>online-only</em></span>
      and <span class="emphasis"><em>print-only</em></span>. Content marked as online-only will
      only appear in HTML Help files and not in PDF documents. Conversely,
      content marked as print-only will only appear in PDF documents and not
      in HTML Help file.</p><p>To mark content with a condition, you just add a <tt class="sgmltag-attribute">condition</tt> attribute to the appropriate
      element and set the value to either <tt class="sgmltag-attvalue">online-only</tt> or <tt class="sgmltag-attvalue">print-only</tt>. These conditions can be applied
      to any DocBook XML element, though their use in the control of
      alternative phrasing is best implemented by applying them to
      <tt class="sgmltag-element">phrase</tt> elements.</p><p>For example, say you have the following content:</p><div class="informalexample"><pre class="programlisting">&lt;section&gt;
  &lt;title&gt;Introduction&lt;/title&gt;
  &lt;para&gt;
    In this book, you will learn many things.
  &lt;/para&gt;
&lt;/section&gt;</pre></div><p>The phrase &ldquo;<span class="quote">In this book</span>&rdquo; is appropriate if you are
      only producing a PDF document, but you may want to use the words
      &ldquo;<span class="quote">online help</span>&rdquo; instead of &ldquo;<span class="quote">book</span>&rdquo; for your HTML
      Help system. As you may not wish to make the entire
      <tt class="sgmltag-element">para</tt> or <tt class="sgmltag-element">section</tt> element
      conditional, you can add the inline <tt class="sgmltag-element">phrase</tt> element to
      limit the scope of the condition. The conditional content will then be
      marked as follows:</p><div class="informalexample"><pre class="programlisting">&lt;section&gt;
  &lt;title&gt;Introduction&lt;/title&gt;
  &lt;para&gt;
    In this
    &lt;phrase
      condition="print-only"&gt;book&lt;/phrase&gt;&lt;phrase
      condition="online-only"&gt;online help&lt;/phrase&gt;,
    you will learn many things.
  &lt;/para&gt;
&lt;/section&gt;</pre></div><p>The formatting of the content is a little tricky: you do not want
      to introduce any unwanted whitespace between the conditional phrase and
      the comma that follows it. Of course, you could alter the scope of the
      conditional content as follows to achieve the same result:</p><div class="informalexample"><pre class="programlisting">&lt;section&gt;
  &lt;title&gt;Introduction&lt;/title&gt;
  &lt;para&gt;
    In this &lt;phrase condition="print-only"&gt;book,&lt;/phrase&gt;
    &lt;phrase condition="online-only"&gt;online help,&lt;/phrase&gt;
    you will learn many things.
  &lt;/para&gt;
&lt;/section&gt;</pre></div><p>Placing the comma inside the conditional phrase makes the
      formatting a little easier, but all this is really only a concern when
      formatting content manually in a text editor. XML editors will manage
      this for you.</p><p>The scope of a condition is not limited to phrases; you can make
      any element conditional. However, it would obviously be a bad idea to
      try to make a <tt class="sgmltag-element">book</tt> element conditional, so DocMaker
      will ignore the <tt class="sgmltag-attribute">condition</tt> attribute
      on a <tt class="sgmltag-element">book</tt> element. In this example, a whole
      <tt class="sgmltag-element">section</tt> is conditional:</p><div class="informalexample"><pre class="programlisting">&lt;chapter&gt;
  &lt;title&gt;Introduction&lt;/title&gt;

  &lt;section&gt;
    &lt;title&gt;Who Should Read This?&lt;/title&gt;
    &lt;para&gt;
      Anyone using the application should read this
      &lt;phrase condition="print-only"&gt;book.&lt;/phrase&gt;
      &lt;phrase condition="online-only"&gt;online help.&lt;/phrase&gt;
    &lt;/para&gt;
  &lt;/section&gt;

  &lt;section condition="online-only"&gt;
    &lt;title&gt;Navigating Through the Online Help&lt;/title&gt;
    &lt;para&gt;
      Use the links at the bottom of each page to navigate
      through the online help. You can also use the back
      button of your web browser to return to the previous
      page.
    &lt;/para&gt;
  &lt;/section&gt;

&lt;/chapter&gt;</pre></div><div class="tip"><table border="0" summary="Tip: Avoiding Conditional Content"><tr><td valign="top" align="center" rowspan="2" width="25"><img alt="[Tip]" src="../images/tip.gif"></td><th align="left"><a name="DMN129F7"></a>Avoiding Conditional Content</th></tr><tr><td valign="top" align="left" colspan="2"><p>You can make life easier on yourself by avoiding phrases like
        &ldquo;<span class="quote">In this book</span>&rdquo;; if the phrase is not there, you will not
        have to make it conditional!</p></td></tr></table></div></div><div class="section" lang="en"><div class="section_titlepage"><div><div><h3 class="title"><a name="DMN12A04"></a>Conditional Content and Cross-References</h3></div></div><div></div></div><p>Some care is required when using conditional content. It is
      possible to create a cross-reference to conditional content, but you
      must ensure that the content containing the cross-reference is subject
      to the same condition as the content being referenced or the
      cross-reference will be invalid. Cross-references are resolved before
      the conditions are applied, so this type of invalid reference may not be
      detected.</p><p>If a title contains conditional phrases, the cross-reference must
      be configured as though all phrases were present. Here is an
      example:</p><div class="informalexample"><pre class="programlisting">&lt;chapter&gt;
  &lt;title&gt;Introduction&lt;/title&gt;

  &lt;section&gt;
    &lt;title&gt;
      About This
      &lt;phrase condition="print-only"&gt;Book&lt;/phrase&gt;
      &lt;phrase condition="online-only"&gt;Online Help&lt;/phrase&gt;
    &lt;/title&gt;
    &lt;para&gt;
      Everything you need to know about this application is
      contained in these pages!
    &lt;/para&gt;
  &lt;/section&gt;

  &lt;section&gt;
    &lt;title&gt;Other Resources&lt;/title&gt;
    &lt;para&gt;
      If the statement in
      &lt;olink targetptr="section:About This Book Online Help" /&gt;
      was misleading, consider taking a training course to
      find out more about this application.
    &lt;/para&gt;
  &lt;/section&gt;

&lt;/chapter&gt;</pre></div><p>Note how the value of the <tt class="sgmltag-attribute">targetptr</tt> attribute of the
      <tt class="sgmltag-element">olink</tt> element contains the text from both conditional
      phrases. When the output documents are generated, the titles and the
      generated text for the cross-references will appear with the correct
      conditions applied. The requirement to include the text from all the
      phrases is just need for the initial resolution of the cross-reference.
      It is also unlikely that you will ever need to make a cross-reference to
      an element with conditional phrases in its title, so this limitation is
      not significant.</p><p>You will need to take care to use the correct whitespace between
      the phrases when setting the value of the <tt class="sgmltag-attribute">targetptr</tt> attribute. Here is a slight
      variation on the above example showing this:</p><div class="informalexample"><pre class="programlisting">&lt;chapter&gt;
  &lt;title&gt;Introduction&lt;/title&gt;

  &lt;section&gt;
    &lt;title&gt;
      About This
      &lt;phrase
        condition="print-only"&gt;Book&lt;/phrase&gt;&lt;phrase
        condition="online-only"&gt;Online Help&lt;/phrase&gt;
    &lt;/title&gt;
    &lt;para&gt;
      Everything you need to know about this application is
      contained in these pages!
    &lt;/para&gt;
  &lt;/section&gt;

  &lt;section&gt;
    &lt;title&gt;Other Resources&lt;/title&gt;
    &lt;para&gt;
      If the statement in
      &lt;olink targetptr="section:About This BookOnline Help" /&gt;
      was misleading, consider taking a training course to
      find out more about this application.
    &lt;/para&gt;
  &lt;/section&gt;

&lt;/chapter&gt;</pre></div><p>Note that there is now no space between the words
      &ldquo;<span class="quote">Book</span>&rdquo; and &ldquo;<span class="quote">Online</span>&rdquo; in the <tt class="sgmltag-attribute">targetptr</tt> value as there is no whitespace
      between the phrases in the title. Any whitespace present between words
      or phrases, even new-line characters, is reduced to a single space
      character in the <tt class="sgmltag-attribute">targetptr</tt> value,
      but no extra whitespace is inserted.</p></div></div></div><div class="footer"><p class="copyright">Licensed Materials - Property of IBM Corp, IBM Corporation and other(s) 1999,2012. IBM is a registered trademark of IBM Corporation, in the United States, other countries or both.</p></div><div class="navfooter"><table summary="Navigation"><tr><td class="navbarright"><span class="navprev"><a accesskey="p" href="DMN125CA.html"><img class="navigation" src="../images/prev.gif" alt="Previous Page" title="Previous Page"></a></span> <span class="navnext"><a accesskey="n" href="DMN12A42.html"><img class="navigation" src="../images/next.gif" alt="Next Page" title="Next Page"></a></span></td></tr></table></div></body></html>