<?xml version="1.0" encoding="UTF-8"?>
<RuleSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="../../../../../../../Dictionary-V1/RuleSet.xsd"
  name="MOLSAScreeningHouseholdComposition">
  <Class name="HouseholdCompositionCalculator">
    <Attribute name="allPersonRecords">
      <type>
        <javaclass name="List">
          <ruleclass name="Person" ruleset="MOLSAScreeningRuleSet"/>
        </javaclass>
      </type>
      <derivation>
        <readall ruleclass="Person" ruleset="MOLSAScreeningRuleSet"/>
      </derivation>
    </Attribute>
    <Attribute name="childrenOfAbsentFather">
      <type>
        <javaclass name="List">
          <ruleclass name="Person" ruleset="MOLSAScreeningRuleSet"/>
        </javaclass>
      </type>
      <derivation>
        <filter>
          <list>
            <reference attribute="allPersonRecords"/>
          </list>
          <listitemexpression>
            <reference attribute="hasAbsentFather">
              <current/>
            </reference>
          </listitemexpression>
        </filter>
      </derivation>
    </Attribute>
    <Attribute name="householdRelationshipRecords">
      <type>
        <javaclass name="List">
          <ruleclass name="OneWayRelationship" ruleset="MOLSAScreeningRuleSet"/>
        </javaclass>
      </type>
      <derivation>
        <removeduplicates>
          <joinlists>
            <dynamiclist>
              <list>
                <readall ruleclass="Relationship" ruleset="MOLSAScreeningRuleSet"/>
              </list>
              <listitemexpression>
                <reference attribute="oneWayRelationshipsPair">
                  <current/>
                </reference>
              </listitemexpression>
            </dynamiclist>
          </joinlists>
        </removeduplicates>
      </derivation>
    </Attribute>
  </Class>
</RuleSet>
