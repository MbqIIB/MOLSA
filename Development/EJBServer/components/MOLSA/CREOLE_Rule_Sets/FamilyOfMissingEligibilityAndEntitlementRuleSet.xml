<?xml version="1.0" encoding="UTF-8"?>
<!-- FamilyOfMissing Rule set. -->
<RuleSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../../../../../Curam/catalog/RuleSet.xsd"
	name="FamilyOfMissingEligibilityAndEntitlementRuleSet">
	<Class name="FamilyOfMissingEligibilityUnitCalculator" extendsRuleSet="SocialAssistanceRuleSet"
		extends="SocialAssistanceEligibilityUnitCalculator"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Attribute name="isEligibleTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<all>
						<fixedlist>
							<listof>
								<javaclass name="Boolean"/>
							</listof>
							<members>
								<intervalvalue>
									<reference
										attribute="hasHouseholdPassedNonFinancialTestTimeline"/>
								</intervalvalue>
								<intervalvalue>
									<reference attribute="hasHouseholdPassedIncomeTestTimeline"/>
								</intervalvalue>
							</members>
						</fixedlist>
					</all>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibilityUnitMembersTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitMember" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list>
							<intervalvalue>
								<reference attribute="eligibleMembersTimeline">
									<reference attribute="eligibilityUnit"> </reference>
								</reference>
							</intervalvalue>
						</list>
						<listitemexpression>
							<not>
								<equals>
									<null/>
									<reference attribute="caseParticipantRoleRecord">
										<current/>
									</reference>
								</equals>
							</not>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="hasHouseholdPassedNonFinancialTestTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<all>
						<dynamiclist>
							<list>
								<intervalvalue>
									<reference attribute="eligibilityUnitMembersTimeline"/>
								</intervalvalue>
							</list>
							<listitemexpression>
								<intervalvalue>
									<reference attribute="hasPassedNonFinancialTestTimeline">
										<create ruleclass="SANonFinancialCPRCalculator"
											ruleset="SocialAssistanceRuleSet">
											<reference attribute="caseParticipantRoleRecord">
												<current/>
											</reference>
										</create>
									</reference>
								</intervalvalue>
							</listitemexpression>
						</dynamiclist>
					</all>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="unearnedIncomeAmount">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<sum>
						<dynamiclist>
							<list>
								<intervalvalue>
									<reference attribute="eligibilityUnitMembersTimeline"/>
								</intervalvalue>
							</list>
							<listitemexpression>
								<intervalvalue>
									<reference attribute="totalIncomeAmounntTimeline">
										<reference attribute="memberCPRCalculator">
											<current/>
										</reference>
									</reference>
								</intervalvalue>
							</listitemexpression>
						</dynamiclist>
					</sum>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="hasHouseholdPassedIncomeTestTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<compare comparison="&gt;">
						<intervalvalue>
							<reference attribute="primaryBeneficiaryAmount"/>
						</intervalvalue>
						<intervalvalue>
							<reference attribute="totalCountableIncomeTimeline"/>
						</intervalvalue>
					</compare>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="totalCountableIncomeTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="Number"/>
						</type>
						<when>
							<condition>
								<compare comparison="&gt;">
									<intervalvalue>
										<reference attribute="unearnedIncomeAmount"/>
									</intervalvalue>
									<intervalvalue>
										<reference attribute="totalExpenseAmountTimeline"/>
									</intervalvalue>
								</compare>
							</condition>
							<value>
								<arithmetic operation="-">
									<intervalvalue>
										<reference attribute="unearnedIncomeAmount"/>
									</intervalvalue>
									<intervalvalue>
										<reference attribute="totalExpenseAmountTimeline"/>
									</intervalvalue>
								</arithmetic>
							</value>
						</when>
						<otherwise>
							<value>
								<Number value="0"/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="totalExpenseAmountTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<sum>
						<dynamiclist>
							<list>
								<intervalvalue>
									<reference attribute="eligibilityUnitMembersTimeline"/>
								</intervalvalue>
							</list>
							<listitemexpression>
								<intervalvalue>
									<reference attribute="totalMonthlyExpenseAmountTimeline">
										<reference attribute="memberCPRCalculator">
											<current/>
										</reference>
									</reference>
								</intervalvalue>
							</listitemexpression>
						</dynamiclist>
					</sum>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="caseHeaderRecord">
			<type>
				<ruleclass name="CaseHeader" ruleset="CaseEntitiesRuleSet"/>
			</type>
			<derivation>
				<singleitem onEmpty="error" onMultiple="error">
					<readall ruleclass="CaseHeader" ruleset="CaseEntitiesRuleSet">
						<match retrievedattribute="caseID">
							<reference attribute="caseID"/>
						</match>
					</readall>
				</singleitem>
			</derivation>
		</Attribute>
		<Attribute name="primaryClientCPRRecord">
			<type>
				<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
			</type>
			<derivation>
				<singleitem onEmpty="error" onMultiple="returnFirst">
					<filter>
						<list>
							<readall ruleclass="CaseParticipantRole" ruleset="CaseEntitiesRuleSet">
								<match retrievedattribute="caseID">
									<reference attribute="caseID"/>
								</match>
							</readall>
						</list>
						<listitemexpression>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="Boolean"/>
									</listof>
									<members>
										<equals>
											<reference attribute="participantRoleID">
												<current/>
											</reference>
											<reference attribute="concernRoleID">
												<reference attribute="caseHeaderRecord"/>
											</reference>
										</equals>
										<any>
											<fixedlist>
												<listof>
												<javaclass name="Boolean"/>
												</listof>
												<members>
												<equals>
												<reference attribute="typeCode">
												<current/>
												</reference>
												<Code table="CaseParticipantRoleType">
												<String value="PRI"/>
												</Code>
												</equals>
												<equals>
												<reference attribute="typeCode">
												<current/>
												</reference>
												<Code table="CaseParticipantRoleType">
												<String value="MEM"/>
												</Code>
												</equals>
												</members>
											</fixedlist>
										</any>
									</members>
								</fixedlist>
							</all>
						</listitemexpression>
					</filter>
				</singleitem>
			</derivation>
		</Attribute>
		<Attribute name="eligibilityUnitMembers">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list>
							<dynamiclist>
								<list>
									<intervalvalue>
										<reference attribute="eligibilityUnitMembersTimeline"/>
									</intervalvalue>
								</list>
								<listitemexpression>
									<reference attribute="caseParticipantRoleRecord">
										<current/>
									</reference>
								</listitemexpression>
							</dynamiclist>
						</list>
						<listitemexpression>
							<not>
								<equals>
									<null/>
									<current/>
								</equals>
							</not>
						</listitemexpression>
					</filter>

				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="monthlyAmountTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="Number"/>
						</type>
						<when>
							<condition>
								<compare comparison="&lt;">
									<intervalvalue>
										<reference attribute="totalCountableIncomeTimeline"/>
									</intervalvalue>
									<intervalvalue>
										<reference attribute="primaryBeneficiaryAmount"/>
									</intervalvalue>
								</compare>
							</condition>
							<value>
								<arithmetic operation="-">
									<intervalvalue>
										<reference attribute="primaryBeneficiaryAmount"/>
									</intervalvalue>
									<intervalvalue>
										<reference attribute="totalCountableIncomeTimeline"/>
									</intervalvalue>
								</arithmetic>
							</value>
						</when>
						<otherwise>
							<value>
								<Number value="0"/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="primaryBeneficiaryAmount">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<sum>
						<dynamiclist>
							<list>
								<intervalvalue>
									<reference attribute="eligibilityUnitMembers"/>
								</intervalvalue>
							</list>
							<listitemexpression>
								<intervalvalue>
									<reference attribute="amount">
										<create ruleclass="AmountCalculator">
											<current/>
										</create>
									</reference>
								</intervalvalue>
							</listitemexpression>
						</dynamiclist>

					</sum>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FamilyOfMissingCPRCalculator">
		<Initialization>
			<Attribute name="caseParticipantRoleRecord">
				<type>
					<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="memberCPRCalculator">
			<type>
				<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet">
					<reference attribute="caseParticipantRoleRecord"/>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="isMarriedTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<reference attribute="isMarriedTimeline">
					<reference attribute="memberCPRCalculator"/>
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="isFemaleTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<equals>
						<intervalvalue>
							<reference attribute="gender">
								<reference attribute="pdcGenderRecord">
									<reference attribute="memberCPRCalculator"/>
								</reference>
							</reference>
						</intervalvalue>
						<Code table="Gender">
							<String value="SX2"/>
						</Code>
					</equals>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="isEligibleWifeTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<all>
						<fixedlist>
							<listof>
								<javaclass name="Boolean"/>
							</listof>
							<members>
								<intervalvalue>
									<reference attribute="householdMemberRecordsExists">
										<reference attribute="memberCPRCalculator"/>
									</reference>
								</intervalvalue>
								<intervalvalue>
									<reference attribute="isFemaleTimeline"/>
								</intervalvalue>
								<intervalvalue>
									<reference attribute="isMarriedTimeline"/>
								</intervalvalue>
								<intervalvalue>
									<reference attribute="isAgeBelowSixtyTimeline"/>
								</intervalvalue>
							</members>
						</fixedlist>
					</all>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="isAgeBelowSixtyTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<compare comparison="&lt;">
						<intervalvalue>
							<reference attribute="ageTimeline">
								<reference attribute="memberCPRCalculator"/>
							</reference>
						</intervalvalue>
						<Number value="60"/>
					</compare>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="isDependentChildTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<all>
						<fixedlist>
							<listof>
								<javaclass name="Boolean"/>
							</listof>
							<members>
								<intervalvalue>
									<reference attribute="householdMemberRecordsExists">
										<reference attribute="memberCPRCalculator"/>
									</reference>
								</intervalvalue>
								<intervalvalue>
									<reference attribute="isDependentChildTimeline">
										<create ruleclass="DependentChildCalculator"
											ruleset="SocialAssistanceRuleSet">
											<reference attribute="caseParticipantRoleRecord"/>
										</create>
									</reference>
								</intervalvalue>
							</members>
						</fixedlist>
					</all>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FamilyOfMissingDetermination"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Attribute name="caseID">
			<type>
				<javaclass name="Number"/>
			</type>
			<derivation>
				<specified/>
			</derivation>
		</Attribute>
		<Attribute name="simulatedDeterminationsForFilter">
			<type>
				<javaclass name="List">
					<ruleclass name="SocialAssistanceSimulatedDetermination"
						ruleset="SocialAssistanceRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<specified/>
			</derivation>
		</Attribute>
		<Attribute name="householdUnits">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitCalculator"
							ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<reference attribute="householdUnits">
					<create ruleclass="FamilyOfMissingHouseholdComposition">
						<specify attribute="caseID">
							<reference attribute="caseID"/>
						</specify>
						<specify attribute="membersForHouseholdComposition">
							<reference attribute="membersForHouseholdComposition">
								<create ruleclass="MembersForHCDetermination"
									ruleset="SocialAssistanceRuleSet">
									<reference attribute="caseID"/>
									<reference attribute="simulatedDeterminationsForFilter"/>
								</create>
							</reference>
						</specify>
					</create>
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="unitswithDuplicates">
			<type>
				<javaclass name="List">
					<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<removeduplicates>
					<call class="curam.socialassistance.creole.statics.impl.Statics"
						method="getUniqueRuleObjects">
						<type>
							<javaclass name="List">
								<ruleclass name="SAHouseholdUnitCalculator"
									ruleset="SocialAssistanceRuleSet"/>
							</javaclass>
						</type>
						<arguments>
							<timelineoperation>
								<filter>
									<list>
										<intervalvalue>
											<reference attribute="filteredHouseholdUnits">
												<create ruleclass="HouseholdUnitsFilterCalculator"
													ruleset="SocialAssistanceRuleSet">
													<reference attribute="householdUnits"/>
													<reference attribute="caseID"/>
												</create>
											</reference>
										</intervalvalue>
									</list>
									<listitemexpression>
										<compare comparison="&gt;">
											<property name="size">
												<object>
													<intervalvalue>
														<reference
															attribute="mandatoryEligibleMembersTimeline">
															<current/>
														</reference>
													</intervalvalue>
												</object>
											</property>
											<Number value="0"/>
										</compare>
									</listitemexpression>
								</filter>
							</timelineoperation>
						</arguments>
					</call>
				</removeduplicates>
			</derivation>
		</Attribute>
		<Attribute name="units">
			<type>
				<javaclass name="List">
					<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<removeduplicates>
					<call class="curam.socialassistance.creole.statics.impl.Statics"
						method="removeDuplicateRuleObjects">
						<type>
							<javaclass name="List">
								<ruleclass name="SAHouseholdUnitCalculator"
									ruleset="SocialAssistanceRuleSet"/>
							</javaclass>
						</type>
						<arguments>
							<reference attribute="unitswithDuplicates"/>
						</arguments>
					</call>
				</removeduplicates>
			</derivation>
		</Attribute>
		<Attribute name="familyOfMissingSimulatedDeterminations">
			<type>
				<javaclass name="List">
					<ruleclass name="FamilyOfMissingSimulatedDetermination"/>
				</javaclass>
			</type>
			<derivation>
				<dynamiclist>
					<list>
						<reference attribute="units"/>
					</list>
					<listitemexpression>
						<create ruleclass="FamilyOfMissingSimulatedDetermination">
							<specify attribute="caseID">
								<reference attribute="caseID"/>
							</specify>
							<specify attribute="unit">
								<current/>
							</specify>
							<specify attribute="isValidUnitTimeline">
								<timelineoperation>
									<property name="contains">
										<object>
											<intervalvalue>
												<reference attribute="householdUnits"/>
											</intervalvalue>
										</object>
										<arguments>
											<current/>
										</arguments>
									</property>
								</timelineoperation>
							</specify>
						</create>
					</listitemexpression>
				</dynamiclist>
			</derivation>
		</Attribute>
	</Class>
	<Class extends="SocialAssistanceSimulatedDetermination" extendsRuleSet="SocialAssistanceRuleSet"
		name="FamilyOfMissingSimulatedDetermination"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Attribute name="programRecommendationCase">
			<type>
				<ruleclass name="SocialAssistanceProductCase" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<reference attribute="familyOfMissingProgramRecommendationCase"/>
			</derivation>
		</Attribute>
		<Attribute name="familyOfMissingProgramRecommendationCase">
			<type>
				<ruleclass name="FamilyOfMissingProductCase"/>
			</type>
			<derivation>
				<create ruleclass="FamilyOfMissingProductCase">
					<specify attribute="eligibilityUnit">
						<reference attribute="unit"/>
					</specify>
					<specify attribute="productDeliveryCase">
						<reference attribute="simulatedProductDeliveryCase"/>
					</specify>
					<specify attribute="isValidUnitTimeline">
						<reference attribute="isValidUnitTimeline"/>
					</specify>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="productID">
			<type>
				<javaclass name="Number"/>
			</type>
			<derivation>
				<Number value="45007"/>
			</derivation>
		</Attribute>
		<Attribute name="programRecommendationDisplayCases">
			<type>
				<javaclass name="List">
					<ruleclass name="ProgramRecommendationDisplayCase"
						ruleset="ProgramRecommendationDisplayRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<fixedlist>
					<listof>
						<ruleclass name="ProgramRecommendationDisplayCase"
							ruleset="ProgramRecommendationDisplayRuleSet"/>
					</listof>
					<members>
						<reference attribute="fomSummaryCategory"/>
						<reference attribute="saNonFinancialCategory"/>
						<reference attribute="saHhIncomeCategory"/>
					</members>
				</fixedlist>
			</derivation>
		</Attribute>
		<Attribute name="fomSummaryCategory">
			<type>
				<ruleclass name="FamilyOfMissingSummaryCategory"
					ruleset="FamilyOfMissingDisplayRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="FamilyOfMissingSummaryCategory"
					ruleset="FamilyOfMissingDisplayRuleSet">
					<specify attribute="familyOfMissingProductCase">
						<reference attribute="familyOfMissingProgramRecommendationCase"/>
					</specify>
					<specify attribute="productDeliveryCase">
						<reference attribute="simulatedProductDeliveryCase"/>
					</specify>
					<specify attribute="displayCategoryID">
						<Number value="4510"/>
					</specify>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="saNonFinancialCategory">
			<type>
				<ruleclass name="SANonFinancialCategory" ruleset="SocialAssistanceDisplayRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="SANonFinancialCategory" ruleset="SocialAssistanceDisplayRuleSet">
					<specify attribute="coverageTypeNonFinancialCategory">
						<create ruleclass="FamilyOfMissingNonFinancialCategory"
							ruleset="FamilyOfMissingDisplayRuleSet">
							<specify attribute="productCase">
								<reference attribute="familyOfMissingProgramRecommendationCase"/>
							</specify>
							<specify attribute="productDeliveryCase">
								<reference attribute="simulatedProductDeliveryCase"/>
							</specify>
						</create>
					</specify>
					<specify attribute="displayCategoryID">
						<Number value="4500"/>
					</specify>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="saHhIncomeCategory">
			<type>
				<ruleclass name="SAHouseholdIncomeCategory" ruleset="SocialAssistanceDisplayRuleSet"
				/>
			</type>
			<derivation>
				<create ruleclass="SAHouseholdIncomeCategory"
					ruleset="SocialAssistanceDisplayRuleSet">
					<specify attribute="coverageTypeHouseholdIncomeCategory">
						<create ruleclass="FamilyOfMissingHouseholdIncomeCategory"
							ruleset="FamilyOfMissingDisplayRuleSet">
							<specify attribute="productCase">
								<reference attribute="familyOfMissingProgramRecommendationCase"/>
							</specify>
							<specify attribute="productDeliveryCase">
								<reference attribute="simulatedProductDeliveryCase"/>
							</specify>
						</create>
					</specify>
					<specify attribute="displayCategoryID">
						<Number value="4502"/>
					</specify>
				</create>
			</derivation>
		</Attribute>
	</Class>
	<Class extends="SocialAssistanceProductCase" extendsRuleSet="SocialAssistanceRuleSet"
		name="FamilyOfMissingProductCase"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Attribute name="caseID">
			<type>
				<javaclass name="Number"/>
			</type>
			<derivation>
				<reference attribute="caseID">
					<reference attribute="productDeliveryCase"/>
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="caseHeaderRecord">
			<type>
				<ruleclass name="CaseHeader" ruleset="CaseEntitiesRuleSet"/>
			</type>
			<derivation>
				<singleitem onEmpty="error" onMultiple="error">
					<readall ruleclass="CaseHeader" ruleset="CaseEntitiesRuleSet">
						<match retrievedattribute="caseID">
							<reference attribute="caseID"/>
						</match>
					</readall>
				</singleitem>
			</derivation>
		</Attribute>
		<Attribute name="primaryClientCPRRecord">
			<type>
				<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
			</type>
			<derivation>
				<singleitem onEmpty="error" onMultiple="returnFirst">
					<filter>
						<list>
							<readall ruleclass="CaseParticipantRole" ruleset="CaseEntitiesRuleSet">
								<match retrievedattribute="caseID">
									<reference attribute="parentIntegratedCaseID"/>
								</match>
							</readall>
						</list>
						<listitemexpression>
							<all>
								<fixedlist>
									<listof>
										<javaclass name="Boolean"/>
									</listof>
									<members>
										<equals>
											<reference attribute="participantRoleID">
												<current/>
											</reference>
											<reference attribute="concernRoleID">
												<reference attribute="caseHeaderRecord"/>
											</reference>
										</equals>
										<any>
											<fixedlist>
												<listof>
												<javaclass name="Boolean"/>
												</listof>
												<members>
												<equals>
												<reference attribute="typeCode">
												<current/>
												</reference>
												<Code table="CaseParticipantRoleType">
												<String value="PRI"/>
												</Code>
												</equals>
												<equals>
												<reference attribute="typeCode">
												<current/>
												</reference>
												<Code table="CaseParticipantRoleType">
												<String value="MEM"/>
												</Code>
												</equals>
												</members>
											</fixedlist>
										</any>
									</members>
								</fixedlist>
							</all>
						</listitemexpression>
					</filter>
				</singleitem>
			</derivation>
		</Attribute>
		<Attribute name="parentIntegratedCaseID">
			<type>
				<javaclass name="Number"/>
			</type>
			<derivation>
				<choose>
					<type>
						<javaclass name="Number"/>
					</type>
					<when>
						<condition>
							<reference attribute="isProductDelivery"/>
						</condition>
						<value>
							<reference attribute="integratedCaseID">
								<reference attribute="caseHeaderRecord"/>
							</reference>
						</value>
					</when>
					<otherwise>
						<value>
							<reference attribute="caseID"/>
						</value>
					</otherwise>
				</choose>
			</derivation>
		</Attribute>
		<Attribute name="isProductDelivery">
			<type>
				<javaclass name="Boolean"/>
			</type>
			<derivation>
				<equals>
					<reference attribute="caseTypeCode">
						<reference attribute="caseHeaderRecord"/>
					</reference>
					<Code table="CaseTypeCode">
						<String value="CT2"/>
					</Code>
				</equals>
			</derivation>
		</Attribute>
		<Attribute name="familyOfMissingHouseholdMember">
			<type>
				<ruleclass name="SAHouseholdUnitMember" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="SAHouseholdUnitMember" ruleset="SocialAssistanceRuleSet">
					<reference attribute="parentIntegratedCaseID"/>
					<reference attribute="primaryClientCPRRecord"/>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="eligibilityUnit">
			<type>
				<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<singleitem onEmpty="returnNull" onMultiple="returnLast">
					<call class="curam.socialassistance.creole.statics.impl.Statics"
						method="getUniqueRuleObjects">
						<type>
							<javaclass name="List">
								<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet" />
							</javaclass>
						</type>
						<arguments>
							<timelineoperation>
								<fixedlist>
									<listof>
										<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
									</listof>
									<members>
										<intervalvalue>
											<reference attribute="householdUnitForPD"/>
										</intervalvalue>
									</members>
								</fixedlist>
							</timelineoperation>
							
						</arguments>
					</call>
				</singleitem>
			</derivation>
		</Attribute>
		<Attribute name="primaryAndMemberCaseParticipantRoleRecords">
			<type>
				<javaclass name="List">
					<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<fixedlist>
					<listof>
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</listof>
					<members>
						<reference attribute="primaryClientCPRRecord"/>
					</members>
				</fixedlist>
			</derivation>
		</Attribute>
		<Attribute name="programRecommendationObjectiveTimelines">
			<type>
				<javaclass name="List">
					<ruleclass name="AbstractObjectiveTimeline"
						ruleset="ProductEligibilityEntitlementRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<reference attribute="objectiveTimelines">
					<reference attribute="socialAssistanceObjectiveCalculator"/>
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="familyOfMissingProgramCalculator">
			<type>
				<ruleclass name="FamilyOfMissingProgramCalculator"/>
			</type>
			<derivation>
				<create ruleclass="FamilyOfMissingProgramCalculator">
					<reference attribute="parentIntegratedCaseID"/>
					<reference attribute="eligibilityUnit"/>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="familyOfMissingEligibilityUnitCalculatorTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<ruleclass name="FamilyOfMissingEligibilityUnitCalculator"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<intervalvalue>
						<reference attribute="familyOfMissingEligibilityUnitCalculator">
							<reference attribute="familyOfMissingProgramCalculator"/>
						</reference>
					</intervalvalue>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="monthlyAmountTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="Number"/>
						</type>
						<when>
							<condition>
								<intervalvalue>
									<reference attribute="isEligibleTimeline"/>
								</intervalvalue>
							</condition>
							<value>
								<intervalvalue>
									<reference attribute="monthlyAmountTimeline">
										<intervalvalue>
											<reference
												attribute="familyOfMissingEligibilityUnitCalculatorTimeline"
											/>
										</intervalvalue>
									</reference>
								</intervalvalue>
							</value>
						</when>
						<otherwise>
							<value>
								<Number value="0"/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="socialAssistanceObjectiveCalculator">
			<type>
				<ruleclass name="SocialAssistanceObjectiveCalculator"
					ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="SocialAssistanceObjectiveCalculator"
					ruleset="SocialAssistanceRuleSet">
					<reference attribute="familyOfMissingEligibilityUnitCalculatorTimeline"/>
					<reference attribute="primaryAndMemberCaseParticipantRoleRecords"/>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="objectiveTimelines">
			<type>
				<javaclass name="List">
					<ruleclass name="SocialAssistanceObjectiveTimeline"
						ruleset="SocialAssistanceRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<reference attribute="objectiveTimelines">
					<reference attribute="socialAssistanceObjectiveCalculator"/>
				</reference>
			</derivation>
		</Attribute>
		<Attribute name="householdUnitForPD">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
						</type>
						<when>
							<condition>
								<all>
									<fixedlist>
										<listof>
											<javaclass name="Boolean"/>
										</listof>
										<members>
											<not>
												<intervalvalue>
													<reference attribute="hasParentRelationShipRecord">
														<create ruleclass="MemberCPRCalculator"
															ruleset="SocialAssistanceRuleSet">
															<reference attribute="primaryClientCPRRecord">
															</reference>
														</create>
													</reference>
												</intervalvalue>
											</not>
											<not>
												<intervalvalue>
													<reference attribute="isWifeTimeline">
														<create ruleclass="MemberCPRCalculator"
															ruleset="SocialAssistanceRuleSet">
															<reference attribute="primaryClientCPRRecord">
															</reference>
														</create>
													</reference>
												</intervalvalue>
											</not>
											<intervalvalue>
												<reference attribute="isDependentChildTimeline">
													<create ruleclass="FamilyOfMissingCPRCalculator">
														<reference attribute="primaryClientCPRRecord">
														</reference>
													</create>
												</reference>
											</intervalvalue>
										</members>
									</fixedlist>
								</all>
							</condition>
							<value>
									<reference attribute="householdUnit">
										<create
											ruleclass="FamilyOfMissingChildrenHouseholdCalculator">
											<create ruleclass="MemberCPRCalculator"
												ruleset="SocialAssistanceRuleSet">
												<reference attribute="primaryClientCPRRecord">
												</reference>
											</create>
										</create>
									</reference>
							</value>
						</when>
						<otherwise>
							<value>
								<reference attribute="householdUnit">
									<create ruleclass="FamilyOfMissingHouseholdCalculator">
										<create ruleclass="MemberCPRCalculator"
											ruleset="SocialAssistanceRuleSet">
											<reference attribute="primaryClientCPRRecord"/>
										</create>
									</create>
								</reference>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="isValidUnitTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="Boolean"/>
						</type>
						<when>
							<condition>
								<compare comparison="&gt;">
									<property name="size">
										<object>
											<intervalvalue>
												<reference attribute="eligibleMembersTimeline">
												<intervalvalue>
												<reference attribute="householdUnitForPD"/>
												</intervalvalue>
												</reference>
											</intervalvalue>
										</object>
									</property>
									<Number value="0"/>
								</compare>
							</condition>
							<value>
								<true/>
							</value>
						</when>
						<otherwise>
							<value>
								<false/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="isEligibleTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<all>
						<fixedlist>
							<listof>
								<javaclass name="Boolean"/>
							</listof>
							<members>
								<intervalvalue>
									<reference attribute="isValidUnitTimeline"/>
								</intervalvalue>
								<intervalvalue>
									<reference attribute="isEligibleTimeline">
										<reference attribute="familyOfMissingProgramCalculator"/>
									</reference>
								</intervalvalue>
							</members>
						</fixedlist>
					</all>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class extends="SocialAssistanceProduct" extendsRuleSet="SocialAssistanceRuleSet"
		name="FamilyOfMissingProduct"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Attribute name="description">
			<type>
				<javaclass name="curam.creole.value.Message"/>
			</type>
			<derivation>
				<XmlMessage>FamilyOfMissing Product</XmlMessage>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FamilyOfMissingProgramCalculator"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Initialization>
			<Attribute name="caseID">
				<type>
					<javaclass name="Number"/>
				</type>
			</Attribute>
			<Attribute name="eligibilityUnit">
				<type>
					<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="familyOfMissingEligibilityUnitCalculator">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<ruleclass name="FamilyOfMissingEligibilityUnitCalculator"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<create ruleclass="FamilyOfMissingEligibilityUnitCalculator">
						<reference attribute="caseID"/>
						<reference attribute="eligibilityUnit"/>
					</create>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="isEligibleTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Boolean"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<intervalvalue>
						<reference attribute="isEligibleTimeline">
							<intervalvalue>
								<reference attribute="familyOfMissingEligibilityUnitCalculator"/>
							</intervalvalue>
						</reference>
					</intervalvalue>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FamilyOfMissingHouseholdComposition" extends="SocialAssistanceHouseholdComposition"
		extendsRuleSet="SocialAssistanceRuleSet"
		xsi:noNamespaceSchemaLocation="http://www.curamsoftware.com/CreoleRulesSchema.xsd">
		<Attribute name="membersForHouseholdComposition">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitMember" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<specified/>
			</derivation>
		</Attribute>
		<Attribute name="headOfHHUnitMember">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<ruleclass name="SAHouseholdUnitMember" ruleset="SocialAssistanceRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<singleitem onMultiple="returnFirst" onEmpty="returnNull">
						<filter>
							<list>
								<intervalvalue>
									<reference attribute="membersForHouseholdComposition"/>
								</intervalvalue>
							</list>
							<listitemexpression>
								<all>
									<fixedlist>
										<listof>
											<javaclass name="Boolean"/>
										</listof>
										<members>
											<intervalvalue>
												<reference attribute="isHeadOfHouseholdTimeline">
												<current/>
												</reference>
											</intervalvalue>
											<intervalvalue>
												<reference attribute="isWifeTimeline">
												<reference attribute="memberCPRCalculator">
												<current/>
												</reference>
												</reference>
											</intervalvalue>
										</members>
									</fixedlist>
								</all>
							</listitemexpression>
						</filter>
					</singleitem>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="otherWivesHHUnitMemberRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="List">
								<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"
								/>
							</javaclass>
						</type>
						<when>
							<condition>
								<not>
									<equals>
										<intervalvalue>
											<reference attribute="headOfHHUnitMember"/>
										</intervalvalue>
										<null/>
									</equals>
								</not>
							</condition>
							<value>
								<dynamiclist>
									<list alias="relatedMembers">
										<filter>
											<list alias="relationships">
												<reference attribute="allrelationshipRecords">
												<reference attribute="memberCPRCalculator">
												<intervalvalue>
												<reference attribute="headOfHHUnitMember"/>
												</intervalvalue>
												</reference>
												</reference>
											</list>
											<listitemexpression>
												<equals>
												<intervalvalue>
												<reference attribute="relationshipType">
												<current alias="relationships"/>
												</reference>
												</intervalvalue>
												<Code table="RelationshipTypeCode">
												<String value="RT17000"/>
												</Code>
												</equals>
											</listitemexpression>
										</filter>
									</list>
									<listitemexpression>
										<reference attribute="related_relatedParticipant">
											<current alias="relatedMembers"/>
										</reference>
									</listitemexpression>
								</dynamiclist>
							</value>
						</when>
						<otherwise>
							<value>
								<null/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="allChildrenRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<dynamiclist>
						<list>
							<filter>
								<list alias="outer">
									<intervalvalue>
										<reference attribute="membersForHouseholdComposition"/>
									</intervalvalue>
								</list>
								<listitemexpression>
									<all>
										<fixedlist>
											<listof>
												<javaclass name="Boolean"/>
											</listof>
											<members>
												<not>
													<intervalvalue>
														<reference attribute="hasParentRelationShipRecord">
															<create ruleclass="MemberCPRCalculator"
																ruleset="SocialAssistanceRuleSet">
																<reference attribute="caseParticipantRoleRecord">
																	<current alias="outer"/>
																</reference>
															</create>
														</reference>
													</intervalvalue>
												</not>
												<not>
													<intervalvalue>
														<reference attribute="isWifeTimeline">
															<create ruleclass="MemberCPRCalculator"
																ruleset="SocialAssistanceRuleSet">
																<reference attribute="caseParticipantRoleRecord">
																	<current alias="outer"/>
																</reference>
															</create>
														</reference>
													</intervalvalue>
												</not>
												<intervalvalue>
													<reference attribute="isDependentChildTimeline">
														<create ruleclass="FamilyOfMissingCPRCalculator">
															<reference attribute="caseParticipantRoleRecord">
																<current alias="outer"/>
															</reference>
														</create>
													</reference>
												</intervalvalue>
											</members>
										</fixedlist>
									</all>
								</listitemexpression>
							</filter>
						</list>
						<listitemexpression>
							<reference attribute="caseParticipantRoleRecord">
								<current/>
							</reference>
						</listitemexpression>
					</dynamiclist>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="allWivesCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="List">
								<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"
								/>
							</javaclass>
						</type>
						<when>
							<condition>
								<not>
									<equals>
										<intervalvalue>
											<reference attribute="otherWivesHHUnitMemberRecords"/>
										</intervalvalue>
										<null/>
									</equals>
								</not>
							</condition>
							<value>
								<joinlists>
									<fixedlist>
										<listof>
											<javaclass name="List">
												<ruleclass name="CaseParticipantRole"
												ruleset="CaseEntitiesRuleSet"/>
											</javaclass>
										</listof>
										<members>
											<intervalvalue>
												<reference attribute="otherWivesHHUnitMemberRecords"
												/>
											</intervalvalue>
											<fixedlist>
												<listof>
												<ruleclass name="CaseParticipantRole"
												ruleset="CaseEntitiesRuleSet"/>
												</listof>
												<members>
												<reference attribute="caseParticipantRoleRecord">
												<intervalvalue>
												<reference attribute="headOfHHUnitMember"/>
												</intervalvalue>
												</reference>
												</members>
											</fixedlist>
										</members>
									</fixedlist>
								</joinlists>
							</value>
						</when>
						<otherwise>
							<value>
								<null/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibleWivesMemberCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="List">
								<ruleclass name="MemberCPRCalculator"
									ruleset="SocialAssistanceRuleSet"/>
							</javaclass>
						</type>
						<when>
							<condition>
								<not>
									<equals>
										<intervalvalue>
											<reference attribute="allWivesCPRRecords"/>
										</intervalvalue>
										<null/>
									</equals>
								</not>
							</condition>
							<value>
								<filter>
									<list alias="mCPRRecords">
										<dynamiclist>
											<list alias="cprRecords">
												<intervalvalue>
												<reference attribute="allWivesCPRRecords"/>
												</intervalvalue>
											</list>
											<listitemexpression>
												<create ruleclass="MemberCPRCalculator"
												ruleset="SocialAssistanceRuleSet">
												<current alias="cprRecords"/>
												</create>
											</listitemexpression>
										</dynamiclist>
									</list>
									<listitemexpression>
										<intervalvalue>
											<reference attribute="hasAbsentFatherRecordofMissing">
												<current alias="mCPRRecords"/>
											</reference>
										</intervalvalue>
									</listitemexpression>
								</filter>
							</value>
						</when>
						<otherwise>
							<value>
								<null/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibleChildrenMemberCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="List">
								<ruleclass name="MemberCPRCalculator"
									ruleset="SocialAssistanceRuleSet"/>
							</javaclass>
						</type>
						<when>
							<condition>
								<not>
									<equals>
										<intervalvalue>
											<reference attribute="allChildrenRecords"/>
										</intervalvalue>
										<null/>
									</equals>
								</not>
							</condition>
							<value>
								<filter>
									<list alias="mCPRRecords">
										<dynamiclist>
											<list alias="cprRecords">
												<intervalvalue>
													<reference attribute="allChildrenRecords"/>
												</intervalvalue>
											</list>
											<listitemexpression>
												<create ruleclass="MemberCPRCalculator"
													ruleset="SocialAssistanceRuleSet">
													<current alias="cprRecords"/>
												</create>
											</listitemexpression>
										</dynamiclist>
									</list>
									<listitemexpression>
										<intervalvalue>
											<reference attribute="hasAbsentFatherRecordofMissing">
												<current alias="mCPRRecords"/>
											</reference>
										</intervalvalue>
									</listitemexpression>
								</filter>
							</value>
						</when>
						<otherwise>
							<value>
								<null/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		
		<Attribute name="childrenHouseholdUnits">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitCalculator"
							ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<joinlists>
						<dynamiclist>
							<list>
								<intervalvalue>
									<reference attribute="eligibleChildrenMemberCPRRecords"/>
								</intervalvalue>
							</list>
							<listitemexpression>
								<intervalvalue>
									<reference attribute="householdUnits">
										<create
											ruleclass="FamilyOfMissingChildrenHouseholdCalculator">
												<current/>
										</create>
									</reference>
								</intervalvalue>
							</listitemexpression>
						</dynamiclist>
					</joinlists>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="householdUnits">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitCalculator"
							ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<removeduplicates>
						<joinlists>
							<fixedlist>
								<listof>
									<javaclass name="List">
										<ruleclass name="SAHouseholdUnitCalculator"
											ruleset="SocialAssistanceRuleSet"/>
									</javaclass>
								</listof>
								<members>
									<intervalvalue>
										<reference attribute="eligibileWifeAndChildrenhouseholdUnits"/>
									</intervalvalue>
									<intervalvalue>
										<reference attribute="childrenHouseholdUnits"/>
									</intervalvalue>
								</members>
							</fixedlist>
						</joinlists>
					</removeduplicates>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibileWifeAndChildrenhouseholdUnits">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitCalculator"
							ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="List">
								<ruleclass name="SAHouseholdUnitCalculator"
									ruleset="SocialAssistanceRuleSet"/>
							</javaclass>
						</type>
						<when>
							<condition>
								<not>
									<equals>
										<intervalvalue>
											<reference attribute="eligibleWivesMemberCPRRecords"/>
										</intervalvalue>
										<null/>
									</equals>
								</not>
							</condition>
							<value>
								<joinlists>
									<dynamiclist>
										<list>
											<intervalvalue>
												<reference attribute="eligibleWivesMemberCPRRecords"
												/>
											</intervalvalue>
										</list>
										<listitemexpression>
											<intervalvalue>
												<reference attribute="householdUnits">
												<create
												ruleclass="FamilyOfMissingHouseholdCalculator">
												<current/>
												</create>
												</reference>
											</intervalvalue>
										</listitemexpression>
									</dynamiclist>
								</joinlists>
							</value>
						</when>
						<otherwise>
							<value>
								<fixedlist>
									<listof>
										<ruleclass name="SAHouseholdUnitCalculator"
											ruleset="SocialAssistanceRuleSet"/>
									</listof>
									<members>
										<create ruleclass="SAHouseholdUnitCalculator"
											ruleset="SocialAssistanceRuleSet"/>
									</members>
								</fixedlist>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FamilyOfMissingHouseholdCalculator">
		<Initialization>
			<Attribute name="memberCPRRecord">
				<type>
					<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="motherCPRRecordTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
						</type>
						<when>
							<condition>
								<intervalvalue>
									<reference attribute="isEligibleWifeTimeline">
										<create ruleclass="FamilyOfMissingCPRCalculator">
											<reference attribute="caseParticipantRoleRecord">
												<reference attribute="memberCPRRecord"/>
											</reference>
										</create>
									</reference>
								</intervalvalue>
							</condition>
							<value>
								<reference attribute="caseParticipantRoleRecord">
									<reference attribute="memberCPRRecord"/>
								</reference>
							</value>
						</when>
						<otherwise>
							<value>
								<null/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="childrenCRPRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<dynamiclist>
						<list alias="filteredRRecords">
							<filter>
								<list alias="rRecords">
									<reference attribute="allrelationshipRecords">
										<reference attribute="memberCPRRecord"/>
									</reference>
								</list>
								<listitemexpression>
									<equals>
										<intervalvalue>
											<reference attribute="relationshipType">
												<current alias="rRecords"/>
											</reference>
										</intervalvalue>
										<Code table="RelationshipTypeCode">
											<String value="RT1"/>
										</Code>
									</equals>
								</listitemexpression>
							</filter>
						</list>
						<listitemexpression>
							<reference attribute="related_relatedParticipant">
								<current alias="filteredRRecords"/>
							</reference>
						</listitemexpression>
					</dynamiclist>

				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibleChildrenMemberCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list alias="mCPRRecords">
							<dynamiclist>
								<list alias="cprRecords">
									<intervalvalue>
										<reference attribute="childrenCRPRecords"/>
									</intervalvalue>
								</list>
								<listitemexpression>
									<create ruleclass="MemberCPRCalculator"
										ruleset="SocialAssistanceRuleSet">
										<current alias="cprRecords"/>
									</create>
								</listitemexpression>
							</dynamiclist>
						</list>
						<listitemexpression>
							<intervalvalue>
								<reference attribute="hasAbsentFatherRecordofMissing">
									<current alias="mCPRRecords"/>
								</reference>
							</intervalvalue>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibleDependentChildrenTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list>
							<intervalvalue>
								<reference attribute="eligibleChildrenMemberCPRRecords"/>
							</intervalvalue>
						</list>
						<listitemexpression>
							<intervalvalue>
								<reference attribute="isDependentChildTimeline">
									<create ruleclass="FamilyOfMissingCPRCalculator">
										<reference attribute="caseParticipantRoleRecord">
											<current/>
										</reference>
									</create>
								</reference>
							</intervalvalue>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="childrenCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<dynamiclist>
						<list>
							<intervalvalue>
								<reference attribute="eligibleDependentChildrenTimeline"/>
							</intervalvalue>
						</list>
						<listitemexpression>
							<reference attribute="caseParticipantRoleRecord">
								<current/>
							</reference>
						</listitemexpression>
					</dynamiclist>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="householdUnitMemberCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<joinlists>
						<fixedlist>
							<listof>
								<javaclass name="List">
									<ruleclass name="CaseParticipantRole"
										ruleset="CaseEntitiesRuleSet"/>
								</javaclass>
							</listof>
							<members>
								<intervalvalue>
									<reference attribute="childrenCPRRecords"/>
								</intervalvalue>
								<fixedlist>
									<listof>
										<ruleclass name="CaseParticipantRole"
											ruleset="CaseEntitiesRuleSet"/>
									</listof>
									<members>
										<intervalvalue>
											<reference attribute="motherCPRRecordTimeline"/>
										</intervalvalue>
									</members>
								</fixedlist>
							</members>
						</fixedlist>
					</joinlists>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="fnHouseholdMemberRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="FOMHouseholdUnitMember"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list>
							<dynamiclist>
								<list>
									<intervalvalue>
										<reference attribute="householdUnitMemberCPRRecords"/>
									</intervalvalue>
								</list>
								<listitemexpression>
									<create ruleclass="FOMHouseholdUnitMember">
										<reference attribute="caseID">
											<reference attribute="caseParticipantRoleRecord">
												<reference attribute="memberCPRRecord"/>
											</reference>
										</reference>
										<current/>
									</create>
								</listitemexpression>
							</dynamiclist>
						</list>
						<listitemexpression>
							<not>
								<equals>
									<reference attribute="caseParticipantRoleRecord">
										<current/>
									</reference>
									<null/>
								</equals>
							</not>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="householdUnit">
			<type>
				<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet">
					<specify attribute="mandatoryEligibleMembersTimeline">
						<reference attribute="fnHouseholdMemberRecords"/>
					</specify>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="householdUnits">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitCalculator"
							ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<fixedlist>
						<listof>
							<ruleclass name="SAHouseholdUnitCalculator"
								ruleset="SocialAssistanceRuleSet"/>
						</listof>
						<members>
							<reference attribute="householdUnit"/>
						</members>
					</fixedlist>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FamilyOfMissingChildrenHouseholdCalculator">
		<Initialization>
			<Attribute name="memberCPRRecord">
				<type>
					<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="childCPRRecordTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
						</type>
						<when>
							<condition>
								<intervalvalue>
									<reference attribute="isDependentChildTimeline">
										<create ruleclass="FamilyOfMissingCPRCalculator">
											<reference attribute="caseParticipantRoleRecord">
												<reference attribute="memberCPRRecord"/>
											</reference>
										</create>
									</reference>
								</intervalvalue>
							</condition>
							<value>
								<reference attribute="caseParticipantRoleRecord">
									<reference attribute="memberCPRRecord"/>
								</reference>
							</value>
						</when>
						<otherwise>
							<value>
								<null/>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="childrenCRPRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<dynamiclist>
						<list alias="filteredRRecords">
							<filter>
								<list alias="rRecords">
									<reference attribute="allrelationshipRecords">
										<reference attribute="memberCPRRecord"/>
									</reference>
								</list>
								<listitemexpression>
									<equals>
										<intervalvalue>
											<reference attribute="relationshipType">
												<current alias="rRecords"/>
											</reference>
										</intervalvalue>
										<Code table="RelationshipTypeCode">
											<String value="RT3"/>
										</Code>
									</equals>
								</listitemexpression>
							</filter>
						</list>
						<listitemexpression>
							<reference attribute="related_relatedParticipant">
								<current alias="filteredRRecords"/>
							</reference>
						</listitemexpression>
					</dynamiclist>
					
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibleChildrenMemberCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list alias="mCPRRecords">
							<dynamiclist>
								<list alias="cprRecords">
									<intervalvalue>
										<reference attribute="childrenCRPRecords"/>
									</intervalvalue>
								</list>
								<listitemexpression>
									<create ruleclass="MemberCPRCalculator"
										ruleset="SocialAssistanceRuleSet">
										<current alias="cprRecords"/>
									</create>
								</listitemexpression>
							</dynamiclist>
						</list>
						<listitemexpression>
							<intervalvalue>
								<reference attribute="hasAbsentFatherRecordofMissing">
									<current alias="mCPRRecords"/>
								</reference>
							</intervalvalue>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="eligibleDependentChildrenTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list>
							<intervalvalue>
								<reference attribute="eligibleChildrenMemberCPRRecords"/>
							</intervalvalue>
						</list>
						<listitemexpression>
							<intervalvalue>
								<reference attribute="isDependentChildTimeline">
									<create ruleclass="FamilyOfMissingCPRCalculator">
										<reference attribute="caseParticipantRoleRecord">
											<current/>
										</reference>
									</create>
								</reference>
							</intervalvalue>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="childrenCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<dynamiclist>
						<list>
							<intervalvalue>
								<reference attribute="eligibleDependentChildrenTimeline"/>
							</intervalvalue>
						</list>
						<listitemexpression>
							<reference attribute="caseParticipantRoleRecord">
								<current/>
							</reference>
						</listitemexpression>
					</dynamiclist>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="householdUnitMemberCPRRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<joinlists>
						<fixedlist>
							<listof>
								<javaclass name="List">
									<ruleclass name="CaseParticipantRole"
										ruleset="CaseEntitiesRuleSet"/>
								</javaclass>
							</listof>
							<members>
								<intervalvalue>
									<reference attribute="childrenCPRRecords"/>
								</intervalvalue>
								<fixedlist>
									<listof>
										<ruleclass name="CaseParticipantRole"
											ruleset="CaseEntitiesRuleSet"/>
									</listof>
									<members>
										<intervalvalue>
											<reference attribute="childCPRRecordTimeline"/>
										</intervalvalue>
									</members>
								</fixedlist>
							</members>
						</fixedlist>
					</joinlists>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="fnHouseholdMemberRecords">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="FOMHouseholdUnitMember"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<filter>
						<list>
							<dynamiclist>
								<list>
									<intervalvalue>
										<reference attribute="householdUnitMemberCPRRecords"/>
									</intervalvalue>
								</list>
								<listitemexpression>
									<create ruleclass="FOMHouseholdUnitMember">
										<reference attribute="caseID">
											<reference attribute="caseParticipantRoleRecord">
												<reference attribute="memberCPRRecord"/>
											</reference>
										</reference>
										<current/>
									</create>
								</listitemexpression>
							</dynamiclist>
						</list>
						<listitemexpression>
							<not>
								<equals>
									<reference attribute="caseParticipantRoleRecord">
										<current/>
									</reference>
									<null/>
								</equals>
							</not>
						</listitemexpression>
					</filter>
				</timelineoperation>
			</derivation>
		</Attribute>
		<Attribute name="householdUnit">
			<type>
				<ruleclass name="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="SAHouseholdUnitCalculator" ruleset="SocialAssistanceRuleSet">
					<specify attribute="mandatoryEligibleMembersTimeline">
						<reference attribute="fnHouseholdMemberRecords"/>
					</specify>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="householdUnits">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="List">
						<ruleclass name="SAHouseholdUnitCalculator"
							ruleset="SocialAssistanceRuleSet"/>
					</javaclass>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<fixedlist>
						<listof>
							<ruleclass name="SAHouseholdUnitCalculator"
								ruleset="SocialAssistanceRuleSet"/>
						</listof>
						<members>
							<reference attribute="householdUnit"/>
						</members>
					</fixedlist>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="FOMHouseholdUnitMember" extends="SAHouseholdUnitMember"
		extendsRuleSet="SocialAssistanceRuleSet">
		<Attribute name="filterTypeTimeline">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="String"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="String"/>
						</type>
						<when>
							<!-- head of household -->
							<condition>
								<intervalvalue>
									<reference attribute="headOfHouseholdTimeline">
										<reference attribute="memberCPRCalculator"/>
									</reference>
								</intervalvalue>
							</condition>
							<value>
								<choose>
									<type>
										<javaclass name="String"/>
									</type>
									<when>
										<condition>
											<not>
												<intervalvalue>
												<reference
												attribute="hasPassedNonFinancialTestTimeline">
												<create ruleclass="SANonFinancialCPRCalculator"
												ruleset="SocialAssistanceRuleSet">
												<reference attribute="caseParticipantRoleRecord"/>
												</create>
												</reference>
												</intervalvalue>
											</not>
										</condition>
										<value>
											<String value="ExcludedMember"/>
										</value>
									</when>
									<otherwise>
										<value>
											<choose>
												<type>
												<javaclass name="String"/>
												</type>
												<when>
												<condition>
												<intervalvalue>
												<reference attribute="hasEarnedIncomeTimeline">
												<reference attribute="memberCPRCalculator"/>
												</reference>
												</intervalvalue>
												</condition>
												<value>
												<String value="InEligibleMember"/>
												</value>
												</when>
												<otherwise>
												<value>
												<String value="EligibleMember"/>
												</value>
												</otherwise>
											</choose>
										</value>
									</otherwise>
								</choose>
							</value>
						</when>
						<otherwise>
							<value>
								<choose>
									<type>
										<javaclass name="String"/>
									</type>
									<when>
										<!-- wife -->
										<condition>
											<intervalvalue>
												<reference attribute="isWifeTimeline">
												<reference attribute="memberCPRCalculator"/>
												</reference>
											</intervalvalue>
										</condition>
										<value>
											<choose>
												<type>
												<javaclass name="String"/>
												</type>
												<when>
												<condition>
												<not>
												<intervalvalue>
												<reference
												attribute="hasPassedNonFinancialTestTimeline">
												<create ruleclass="SANonFinancialCPRCalculator"
												ruleset="SocialAssistanceRuleSet">
												<reference attribute="caseParticipantRoleRecord"/>
												</create>
												</reference>
												</intervalvalue>
												</not>
												</condition>
												<value>
												<String value="ExcludedMember"/>
												</value>
												</when>
												<otherwise>
												<value>
												<choose>
												<type>
												<javaclass name="String"/>
												</type>
												<when>
												<condition>
												<intervalvalue>
												<reference attribute="hasEarnedIncomeTimeline">
												<reference attribute="memberCPRCalculator"/>
												</reference>
												</intervalvalue>
												</condition>
												<value>
												<String value="InEligibleMember"/>
												</value>
												</when>
												<otherwise>
												<value>
												<String value="EligibleMember"/>
												</value>
												</otherwise>
												</choose>
												</value>
												</otherwise>
											</choose>
										</value>
									</when>
									<otherwise>
										<!-- Dependent Child -->
										<value>
											<choose>
												<type>
												<javaclass name="String"/>
												</type>
												<when>
												<condition>
												<any>
												<fixedlist>
												<listof>
												<javaclass name="Boolean"/>
												</listof>
												<members>
												<not>
												<intervalvalue>
												<reference
												attribute="hasPassedNonFinancialTestTimeline">
												<create ruleclass="SANonFinancialCPRCalculator"
												ruleset="SocialAssistanceRuleSet">
												<reference attribute="caseParticipantRoleRecord"/>
												</create>
												</reference>
												</intervalvalue>
												</not>
												<not>
												<intervalvalue>
												<reference attribute="isDependentChildTimeline">
												<create ruleclass="FamilyOfMissingCPRCalculator">
												<reference attribute="caseParticipantRoleRecord"/>
												</create>
												</reference>
												</intervalvalue>
												</not>
												</members>
												</fixedlist>
												</any>
												</condition>
												<value>
												<String value="ExcludedMember"/>
												</value>
												</when>
												<otherwise>
												<value>
												<choose>
												<type>
												<javaclass name="String"/>
												</type>
												<when>
												<condition>
												<intervalvalue>
												<reference attribute="hasEarnedIncomeTimeline">
												<reference attribute="memberCPRCalculator"/>
												</reference>
												</intervalvalue>
												</condition>
												<value>
												<String value="InEligibleMember"/>
												</value>
												</when>
												<otherwise>
												<value>
												<String value="EligibleMember"/>
												</value>
												</otherwise>
												</choose>
												</value>
												</otherwise>
											</choose>
										</value>
									</otherwise>
								</choose>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
	<Class name="AmountCalculator">
		<Initialization>
			<Attribute name="caseParticipantRoleRecord">
				<type>
					<ruleclass name="CaseParticipantRole" ruleset="CaseEntitiesRuleSet"/>
				</type>
			</Attribute>
		</Initialization>
		<Attribute name="memberCPRCalculator">
			<type>
				<ruleclass name="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet"/>
			</type>
			<derivation>
				<create ruleclass="MemberCPRCalculator" ruleset="SocialAssistanceRuleSet">
					<reference attribute="caseParticipantRoleRecord"/>
				</create>
			</derivation>
		</Attribute>
		<Attribute name="amount">
			<type>
				<javaclass name="curam.creole.value.Timeline">
					<javaclass name="Number"/>
				</javaclass>
			</type>
			<derivation>
				<timelineoperation>
					<choose>
						<type>
							<javaclass name="Number"/>
						</type>
						<when>
							<condition>
								<intervalvalue>
									<reference attribute="isWifeTimeline">
										<reference attribute="memberCPRCalculator"/>
									</reference>
								</intervalvalue>

							</condition>
							<value>
								<intervalvalue>
									<rate table="RTT17000" row="RR17002" column="RC17000"/>
								</intervalvalue>
							</value>
						</when>
						<otherwise>
							<value>
								<intervalvalue>
									<rate table="RTT17000" row="RR17002" column="RC17002"/>
								</intervalvalue>
							</value>
						</otherwise>
					</choose>
				</timelineoperation>
			</derivation>
		</Attribute>
	</Class>
</RuleSet>
