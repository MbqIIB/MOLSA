<?xml version="1.0" encoding="UTF-8"?>
<RuleSet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="file:/D:/schema/RuleSet.xsd"
    name="MOLSAScreeningRulesUtilityCalculator">
    <Class name="AgeRangeCalculator">
        <Initialization>
            <Attribute name="person">
                <type>
                    <ruleclass name="Person" ruleset="MOLSAScreeningRuleSet"/>
                </type>
            </Attribute>
            <Attribute name="minimumAge">
                <type>
                    <javaclass name="Number"/>
                </type>
            </Attribute>
            <Attribute name="maximumAge">
                <type>
                    <javaclass name="Number"/>
                </type>
            </Attribute>
        </Initialization>
        <Attribute name="applicationDate">
            <type>
                <javaclass name="curam.util.type.Date"/>
            </type>
            <derivation>
                <call class="curam.molsa.creole.statics.impl.MOLSAStatics" method="getCurrentDate">
                    <type>
                        <javaclass name="curam.util.type.Date"/>
                    </type>
                </call>
            </derivation>
        </Attribute>
        <Attribute name="age">
            <type>
                <javaclass name="Number"/>
            </type>
            <derivation>
                <periodlength endDateInclusion="exclusive" unit="years">
                    <reference attribute="dateOfBirth">
                        <reference attribute="person"/>
                    </reference>
                    <reference attribute="applicationDate"/>
                </periodlength>
            </derivation>
        </Attribute>
        <Attribute name="isInAgeRange">
            <type>
                <javaclass name="Boolean"/>
            </type>
            <derivation>
                <all>
                    <fixedlist>
                        <listof>
                            <javaclass name="Boolean"/>
                        </listof>
                        <members>
                            <compare comparison=">=">
                                <reference attribute="age"/>
                                <reference attribute="minimumAge"/>
                            </compare>
                            <compare comparison="&lt;">
                                <reference attribute="age"/>
                                <reference attribute="maximumAge"/>
                            </compare>
                        </members>
                    </fixedlist>
                </all>
            </derivation>
        </Attribute>
    </Class>
    <Class name="AgeCalculator">
        <Initialization>
            <Attribute name="person">
                <type>
                    <ruleclass name="Person" ruleset="MOLSAScreeningRuleSet"/>
                </type>
            </Attribute>
        </Initialization>
        <Attribute name="applicationDate">
            <type>
                <javaclass name="curam.util.type.Date"/>
            </type>
            <derivation>
                <call class="curam.molsa.creole.statics.impl.MOLSAStatics" method="getCurrentDate">
                    <type>
                        <javaclass name="curam.util.type.Date"/>
                    </type>
                </call>
            </derivation>
        </Attribute>
        <Attribute name="age">
            <type>
                <javaclass name="Number"/>
            </type>
            <derivation>
                <periodlength endDateInclusion="exclusive" unit="years">
                    <reference attribute="dateOfBirth">
                        <reference attribute="person"/>
                    </reference>
                    <reference attribute="applicationDate"/>
                </periodlength>
            </derivation>
        </Attribute>
    </Class>
</RuleSet>
