<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="../css/style.css" TYPE="text/css" REL="stylesheet" media="screen">
<link href="../css/print_style.css" type="text/css" rel="stylesheet" media="print">
</head>
<script language="javascript" src="../js/tabletoggle.js"></script>
<body>
<div class="menu">
<a href="../index.html">Home</a> | <a href="../entities/index-entity.html">Application Database Tables</a> | <a href="../entities/index-inf-entity.html">Infrastructure Database Tables</a> | <a href="../index-domain.html">Domain Definitions</a> | <a href="../index-codetable.html">Code Tables</a> | <a href="../index-message.html">Messages</a> | <a href="../index-properties.html">Application Properties</a>
</div>
<hr>
<h2>Database SQL Operation: <i>TaskAssignment.searchUnreservedByRelatedIDTypeAndLongestAssignedDateTime</i><img class="ibm_logo" src="../images/ibmlogo.png"></h2>
<hr>
<table class="cbb" cellspacing="0">
<colgroup span="2">
<col width="25%">
<col width="75%">
</colgroup>
<thead>
<tr>
<td colspan="1" class="collapse">Operation Details</td><td class="collapseImg"><img src="../images/collapse.bmp" onclick="javascript:Toggle('OpDtls');" id="iconOpDtls"></td>
</tr>
</thead>
<tbody id="tableBodyOpDtls">
<tr>
<td class="label">Description: </td><td class="value">Returns the unreserved task identifier based on related ID and nearest assigned date. There may be more than one record matching the search criteria as system generated tasks could have the same assigned date time.

@deprecated Since Curam 6.0 SP2. This method has been replaced by two distinct functions that cater for tasks assigned to organization objects and those assigned to users. 

{@link curam.core.sl.entity.intf.TaskAssignment#searchUnreservedByRelatedIDAndLongestAssignedDateTime(TaskIDRelatedIDAndTypeKey)}.

{@link curam.core.sl.entity.intf.TaskAssignment#searchUnreservedByRelatedNameAndAndLongestAssignedDateTime(TaskIDRelatedIDAndTypeKey)}.

 See release note CR00290609.</td>
</tr>
<tr>
<td class="label">Sterotype: </td><td class="value">nsmulti</td>
</tr>
</tbody>
</table>
<br>
<table class="cbb" cellspacing="0">
<thead>
<tr>
<td colspan="1" class="collapse">SQL</td><td class="collapseImg"><img src="../images/collapse.bmp" onclick="javascript:Toggle('Sql');" id="iconSql"></td>
</tr>
</thead>
<tbody id="tableBodySql">
<tr>
<td class="singleValue" colspan="2">
<pre>
SELECT
  Task.taskID,
  Task.versionNo
INTO
  :taskID,
  :versionNo 
FROM
  TaskAssignment,
  Task 
WHERE 
  (
    :relatedName IS NULL 
    OR TaskAssignment.relatedName = :relatedName 
  ) 
  AND 
  (
    :searchByRelatedIDInd = '0' 
    OR TaskAssignment.relatedID = :relatedID 
  ) 
  AND TaskAssignment.assigneeType = :assigneeType 
  AND TaskAssignment.taskID = Task.taskID 
  AND Task.reservedBy IS NULL 
  AND Task.assignedDateTime = 
  ( 
  SELECT
    MIN(assignedDateTime) 
  FROM
    TaskAssignment,
    Task 
  WHERE 
    (
      :relatedName IS NULL 
      OR TaskAssignment.relatedName = :relatedName 
    ) 
    AND 
    (
      :searchByRelatedIDInd = '0' 
      OR TaskAssignment.relatedID = :relatedID 
    ) 
    AND TaskAssignment.assigneeType = :assigneeType 
    AND TaskAssignment.taskID = Task.taskID 
    AND Task.assignedDateTime <= :assignedDateTime 
    AND Task.reservedBy IS NULL 
  )
</pre>
</td>
</tr>
</tbody>
</table>
<hr>
<div class="menu">
<a href="../index.html">Home</a> | <a href="../entities/index-entity.html">Application Database Tables</a> | <a href="../entities/index-inf-entity.html">Infrastructure Database Tables</a> | <a href="../index-domain.html">Domain Definitions</a> | <a href="../index-codetable.html">Code Tables</a> | <a href="../index-message.html">Messages</a> | <a href="../index-properties.html">Application Properties</a>
</div>
</body>
</html>
