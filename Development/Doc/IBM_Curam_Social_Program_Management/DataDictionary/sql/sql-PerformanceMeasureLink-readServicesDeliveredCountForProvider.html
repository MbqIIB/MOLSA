<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="../css/style.css" TYPE="text/css" REL="stylesheet" media="screen">
<link href="../css/print_style.css" type="text/css" rel="stylesheet" media="print">
</head>
<script language="javascript" src="../js/tabletoggle.js"></script>
<body>
<div class="menu">
<a href="../index.html">Home</a> | <a href="../entities/index-entity.html">Application Database Tables</a> | <a href="../entities/index-inf-entity.html">Infrastructure Database Tables</a> | <a href="../index-domain.html">Domain Definitions</a> | <a href="../index-codetable.html">Code Tables</a> | <a href="../index-message.html">Messages</a> | <a href="../index-properties.html">Application Properties</a>
</div>
<hr>
<h2>Database SQL Operation: <i>PerformanceMeasureLink.readServicesDeliveredCountForProvider</i><img class="ibm_logo" src="../images/ibmlogo.png"></h2>
<hr>
<table class="cbb" cellspacing="0">
<colgroup span="2">
<col width="25%">
<col width="75%">
</colgroup>
<thead>
<tr>
<td colspan="1" class="collapse">Operation Details</td><td class="collapseImg"><img src="../images/collapse.bmp" onclick="javascript:Toggle('OpDtls');" id="iconOpDtls"></td>
</tr>
</thead>
<tbody id="tableBodyOpDtls">
<tr>
<td class="label">Description: </td><td class="value">Reads the performance measure against the services delivered by the provider.

@deprecated Since Curam 6.0 SP1, as the query has been converted into an equivalent dynamic queryand this method is no longer accessed by the application. Hence this method is deprecated. See release note: CR00260936.</td>
</tr>
<tr>
<td class="label">Sterotype: </td><td class="value">ns</td>
</tr>
</tbody>
</table>
<br>
<table class="cbb" cellspacing="0">
<thead>
<tr>
<td colspan="1" class="collapse">SQL</td><td class="collapseImg"><img src="../images/collapse.bmp" onclick="javascript:Toggle('Sql');" id="iconSql"></td>
</tr>
</thead>
<tbody id="tableBodySql">
<tr>
<td class="singleValue" colspan="2">
<pre>
SELECT
  SUM(paymentAmt)
INTO
  :count 
FROM
  
  ( 
  SELECT
    SUM(InstructionLineItem.amount) AS paymentAmt 
  FROM
    CaseDecisionFinancialComp,
    CaseDecisionObjective,
    InstructionLineItem 
  WHERE CaseDecisionFinancialComp.caseDecisionObjectiveID = CaseDecisionObjective.caseDecisionObjectiveID 
    AND InstructionLineItem.financialCompID = CaseDecisionFinancialComp.financialCompID 
    AND CaseDecisionObjective.overflowInd = :overflowInd
    AND CaseDecisionObjective.relatedReference IN 
    ( 
    SELECT
     CAST(ServiceInvoiceLineItem.serviceInvoiceLineItemID AS CHAR(20))
    FROM
      Provider,
      ServiceInvoiceLineItem,
      ProviderOffering,
      ServiceOffering,
      ConcernRole
      WHERE Provider.providerConcernRoleID = :resourceID
      AND Provider.providerConcernRoleID =ConcernRole.ConcernRoleID 
      AND  ProviderOffering.providerConcernRoleID=Provider.providerConcernRoleID
      AND ProviderOffering.serviceOfferingID = ServiceOffering.serviceOfferingID 
      AND ServiceInvoiceLineItem.providerReferenceNo=ConcernRole.primaryAlternateID
      AND ServiceInvoiceLineItem.serviceID = ServiceOffering.serviceOfferingID 
    ) 
    AND InstructionLineItem.instructionLineItemType = :siliInstructionLineItemType 
    AND InstructionLineItem.instructLineItemCategory = :instructLineItemCategory 
    AND InstructionLineItem.statusCode = :statusCode 
  
  UNION ALL
    
  SELECT
    SUM(InstructionLineItem.amount) AS paymentAmt 
  FROM
    CaseDecisionFinancialComp,
    CaseDecisionObjective,
    InstructionLineItem 
  WHERE CaseDecisionFinancialComp.caseDecisionObjectiveID = CaseDecisionObjective.caseDecisionObjectiveID 
    AND InstructionLineItem.financialCompID = CaseDecisionFinancialComp.financialCompID 
    AND CaseDecisionObjective.overflowInd = :overflowInd
    AND CaseDecisionObjective.relatedReference IN 
    ( 
    SELECT
     CAST(ContractVersion.contractVersionID AS CHAR(20))
    FROM
      ContractVersion,
      ContractPOLink,
      FlatRateContract 
    WHERE ContractVersion.concernRoleID = :resourceID 
      AND ContractVersion.contractType = :contractType 
      AND ContractVersion.status = :contractStatus 
      AND FlatRateContract.contractVersionID = ContractVersion.contractVersionID 
    ) 
    AND InstructionLineItem.instructionLineItemType = :frContractInstructionLineItemType 
    AND InstructionLineItem.instructLineItemCategory = :instructLineItemCategory 
    AND InstructionLineItem.statusCode = :statusCode 
  
  UNION ALL
    
  SELECT
    SUM(InstructionLineItem.amount) AS paymentAmt 
  FROM
    CaseDecisionFinancialComp,
    CaseDecisionObjective,
    InstructionLineItem 
  WHERE CaseDecisionFinancialComp.caseDecisionObjectiveID = CaseDecisionObjective.caseDecisionObjectiveID 
    AND InstructionLineItem.financialCompID = CaseDecisionFinancialComp.financialCompID 
    AND CaseDecisionObjective.overflowInd =:overflowInd
    AND CaseDecisionObjective.relatedReference IN 
    ( 
    SELECT
    CAST(ProviderRosterLineItem.providerRosterLineItemID AS CHAR(20))
    FROM
      ProviderRosterLineItem,
      RosterLineItem,
      Roster 
    WHERE Roster.concernRoleID = :resourceID 
      AND Roster.rosterID = RosterLineItem.rosterID 
      AND RosterLineItem.rosterLineItemID = ProviderRosterLineItem.rosterLineItemID 
    ) 
    AND InstructionLineItem.instructionLineItemType = :rosterInstructionLineItemType 
    AND InstructionLineItem.instructLineItemCategory = :instructLineItemCategory 
    AND InstructionLineItem.statusCode = :statusCode 
  
  UNION ALL
    
  SELECT
    SUM(InstructionLineItem.amount) AS paymentAmt 
  FROM
    CaseDecisionFinancialComp,
    CaseDecisionObjective,
    InstructionLineItem 
  WHERE CaseDecisionFinancialComp.caseDecisionObjectiveID = CaseDecisionObjective.caseDecisionObjectiveID 
    AND InstructionLineItem.financialCompID = CaseDecisionFinancialComp.financialCompID 
    AND CaseDecisionObjective.overflowInd =:overflowInd
    AND CaseDecisionObjective.relatedReference IN 
    ( 
    SELECT
      CAST(Placement.placementID AS CHAR(20))
    FROM
      Placement,
      ProviderOffering,
      ServiceOffering 
    WHERE ProviderOffering.providerConcernRoleID = :resourceID 
      AND ProviderOffering.providerOfferingID = Placement.providerOfferingID 
      AND Placement.recordStatus = :recordStatus 
      AND ProviderOffering.serviceOfferingID = ServiceOffering.serviceOfferingID 
      AND ServiceOffering.placementPmtInd = :placementPmtInd 
    ) 
    AND InstructionLineItem.instructionLineItemType = :placementInstructionLineItemType 
    AND InstructionLineItem.instructLineItemCategory = :instructLineItemCategory 
    AND InstructionLineItem.statusCode = :statusCode 
  ) InstructionLineItem
</pre>
</td>
</tr>
</tbody>
</table>
<hr>
<div class="menu">
<a href="../index.html">Home</a> | <a href="../entities/index-entity.html">Application Database Tables</a> | <a href="../entities/index-inf-entity.html">Infrastructure Database Tables</a> | <a href="../index-domain.html">Domain Definitions</a> | <a href="../index-codetable.html">Code Tables</a> | <a href="../index-message.html">Messages</a> | <a href="../index-properties.html">Application Properties</a>
</div>
</body>
</html>
